@PART[mk4cockpit-2]:NEEDS[CommunityTechTree]:AFTER[MarkIVSystem]
{
    @TechRequired = aerospaceComposites //advAerospaceEngineering
}

@PART[sspx-expandable-centrifuge-5-1]:NEEDS[CommunityTechTree]:AFTER[StationPartsExpansionRedux]
{
    @TechRequired = colonization //advColonization
}

@PART[sspx-cargo-container-375-*]:NEEDS[CommunityTechTree]:AFTER[StationPartsExpansionRedux]
{
  @TechRequired = logistics //advLogistics
}

@PART[sspx-logistics-5-*]:NEEDS[CommunityTechTree]:AFTER[StationPartsExpansionRedux]
{
  @TechRequired = logistics //advLogistics
}

@PART[sspx-extendable-tube-25-1]:NEEDS[CommunityTechTree]:AFTER[StationPartsExpansionRedux]
{
  @TechRequired = actuators //advActuators
}

@PART[truss-spinal-docking-01]:NEEDS[CommunityTechTree]:AFTER[NearFutureConstruction]
{
  @TechRequired = orbitalAssembly //orbitalMegastructures
}

@PART[truss-circular-docking-01]:NEEDS[CommunityTechTree]:AFTER[NearFutureConstruction]
{
  @TechRequired = orbitalAssembly //orbitalMegastructures
}

@PART[ionXenon-0625-3]:NEEDS[CommunityTechTree]:AFTER[NearFuturePropulsion]
{
	@TechRequired = advGriddedThrusters //expGriddedThrusters
}

@PART[nfa-vtol-0625-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureAeronautics]
{
    @TechRequired = efficientFlightSystems //specializedFlightSystems
}

@PART[nfa-vtol-125-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureAeronautics]
{
    @TechRequired = efficientFlightSystems //specializedFlightSystems
}

@PART[nfa-liftfan-375-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureAeronautics]
{
    @TechRequired = efficientFlightSystems //specializedFlightSystems
}

@PART[nfa-liftfan-10-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureAeronautics]
{
    @TechRequired = efficientFlightSystems //specializedFlightSystems
}

@PART[nfa-multimodal-25-*]:NEEDS[CommunityTechTree]:AFTER[NearFutureAeronautics]
{
    @TechRequired = aerospaceTech //expAircraftEngines
}

@PART[command-25-landing-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureSpacecraft]
{
  @TechRequired = heavyCommandModules //specializedCommandModules
}

@PART[command-125-orbit-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureSpacecraft]
{
  @TechRequired = heavyCommandModules //specializedCommandModules
}

@PART[command-375-biconic-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureSpacecraft]
{
  @TechRequired = specializedCommandModules //heavyCommandCenters
}

@PART[command-ppd-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureSpacecraft]
{
	@TechRequired = specializedCommandModules //heavyCommandCenters
}

@PART[command-mk4-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureSpacecraft]
{
	@TechRequired = specializedCommandModules //heavyLanders
}

@PART[nflv-drone-core-75-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureLaunchVehicles]
{
   @TechRequired = largeUnmanned //mechatronics
}

@PART[nfex-bus-sqr-*]:NEEDS[CommunityTechTree]:AFTER[NearFutureExploration]
{
  @TechRequired = largeUnmanned //mechatronics
}

@PART[nfex-probe-sqr-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureExploration]
{
  @TechRequired = largeUnmanned //mechatronics
}

@PART[nfex-bus-chfr-*]:NEEDS[CommunityTechTree]:AFTER[NearFutureExploration]
{
  @TechRequired = largeUnmanned //mechatronics
}

@PART[nfex-probe-chfr-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureExploration]
{
  @TechRequired = largeUnmanned //mechatronics
}

@PART[nfex-antenna-reflector-giant-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureExploration]
{
  @TechRequired = largeUnmanned //mechatronics
}

@PART[nfex-bus-plto-*]:NEEDS[CommunityTechTree]:AFTER[NearFutureExploration]
{
  @TechRequired = largeUnmanned //artificialIntelligence
}

@PART[nfex-probe-plto-1]:NEEDS[CommunityTechTree]:AFTER[NearFutureExploration]
{
  @TechRequired = largeUnmanned //artificialIntelligence
}

@PART[CEX_LHL_Kunlun,CEX_LHL_Aso]:NEEDS[CommunityTechTree]:AFTER[CryoEnginesExtensions]
{
  @TechRequired = experimentalRocketry //giganticRocketry
}

@PARTUPGRADE[BonVoyageUpgrade_v4]:NEEDS[CommunityTechTree]:FINAL //LAST[BonVoyage]
{
    @techRequired = largeUnmanned //artificialIntelligence
}

@PART[*]:HAS[@MODULE[BonVoyageModule]]:NEEDS[CommunityTechTree]:FINAL //LAST[BonVoyage]
{
	@MODULE[BonVoyageModule]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[BonVoyageUpgrade_v4]]
			{
				@techRequired__ = largeUnmanned //artificialIntelligence
			}
		}
	}
}

@KERBALISM_GROUP_SETTINGS:NEEDS[CommunityTechTree,FeatureScience]:BEFORE[KerbalismDefault]
{
	@CREWED_EXPERIMENTS
	{
		@SHAKE
		{
			@UnlockTech = Colonization //advColonization
		}
	}
	@LAB_EXPERIMENTS
	{
		@ReconfigureTech = longTermScienceTech //scientificOutposts
		@kerbalism_Lab4
		{
			@UnlockTech = longTermScienceTech //scientificOutposts
		}
	}
}