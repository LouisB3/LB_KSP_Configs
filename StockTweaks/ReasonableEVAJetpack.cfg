@PART[kerbalEV*]:FOR[ReasonableEVAJetpack]
{
  @MODULE[KerbalEVA]
  {
    @linPower = 1 // thrust = linPower * 30 N; 12% stock
    @PropellantConsumption = 0.010197 // units/s; 41% stock
  }
}

@PART[evaJetpack]:FOR[ReasonableEVAJetpack]
{
  @title = EVA Maneuvering Unit
  @description = The EVA maneuvering unit allows an astronaut to control rotational and linear acceleration, providing a full six degrees of freedom in microgravity environments. Its propulsion system is reliable and safe, permitting independent movement and even self-rescue during spacewalks. However, low thrust and limited delta-v means it is not advised for orbit changes or lunar surface operations.
  @RESOURCE[*Propellant] // patches EVA Propellant in stock or MonoPropellant with Kerbalism
  {
    @amount = 2.4
    @maxAmount = 2.4 // 12 kg (stock is 25 kg)
  }
}

@PART[evaCylinder]:FOR[ReasonableEVAJetpack]
{
  @title = EVA Propellant Canister
  @description = This device can be used alongside the EVA maneuvering unit to enhance safety margins or extend spacewalks.
  @mass = 0.0015 // was 0.005
  @MODULE[ModuleCargoPart]
  {
    @packedVolume = 12 // was 15
  }
  @RESOURCE[*Propellant] // patches EVA Propellant in stock or MonoPropellant with Kerbalism
  {
    @amount = 2.4
    @maxAmount = 2.4 // 12 kg (stock is 15 kg)
  }
}

// move ladders to earlier in tech tree to make landers more feasible

@PART[ladder1]:AFTER[ReasonableEVAJetpack]
{
  @TechRequired = survivability // was spaceExploration
}

@PART[restock-ladder-static-2]:AFTER[ReasonableEVAJetpack]:NEEDS[ReStockPlus]
{
  @TechRequired = basicScience // was spaceExploration
}

// Switch propellant to Nitrogen
// Requires KSP 1.11.1+ for free refills
// Disable if Kerbalism is installed as that uses Monopropellant instead

//@PART[kerbalEVA*]:NEEDS[CommunityResourcePack,!Kerbalism]:AFTER[ReasonableEVAJetpack]
//{
//  @MODULE[KerbalEVA]
//  {
//    @propellantResourceName = Nitrogen
//    @PropellantConsumption *= 4000
//  }
//}

//@PART[evaJetpack,evaCylinder]:NEEDS[CommunityResourcePack,!Kerbalism]:AFTER[ReasonableEVAJetpack]
//{
//  @RESOURCE[EVA?Propellant]
//  {
//    @name = Nitrogen
//    @amount *= 4000
//    @maxAmount *= 4000
//  }
//}

// Disable free refills (requires KSP 1.11.1+)
// As of KSP 1.11.1, there is no other way to refill parts in cargo

// @PART[evaJetpack,evaCylinder]
// {
//   @MODULE[ModuleCargoPart]
//   {
//     @reinitResourcesOnStoreInVessel = false
//   }
// }
